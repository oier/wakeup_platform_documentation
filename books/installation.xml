<?xml version="1.0" encoding="utf-8"?>
<chapter xml:id="installation"
      xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      version="5.0" xml:lang="en">

  <title>Installation and Configuration</title>
  <para>
    This chapter explains the requirements, to install and configure the
    wakeup platform correctly
  </para>

  <section>
    <title>Local nodes</title>

  </section>

  <section>
    <title>Global node</title>

  </section>

  <section>
    <title>SSL Terminator</title>

    <section>
      <title>NGINX Setup</title>
      <para>
        If you decide to use NGINX as a software terminator, you can use this
        configuration file as a template.
      </para>
      <para>
        Into the utils/test_ca folder of main wakeup_platform project
        (<xref linkend="sourcecode" endterm="wu_platform_project" />)
        you will locate this sample configuration that can be used as a
        simple reference:
      </para>
      <para>
        <programlisting><xi:include
          href="../../utils/test_ca/example_nginx.conf" parse="text" />
        </programlisting>
      </para>
    </section>
  </section>

  <section>
    <title>Create your own Certification Authority</title>
    <para>
      Using OpenSSL you can create your own CA for testing or deploying purposes
    </para>
    <para>
      Into the utils/test_ca folder of main wakeup_platform project
      (<xref linkend="sourcecode" endterm="wu_platform_project" />)
      you will locate this sample script can be used as a simple reference:
    </para>
    <para>
      <programlisting><xi:include
        href="../../utils/test_ca/create_test_certificates.sh" parse="text" />
      </programlisting>
    </para>
  </section>

  <section>
    <title>Provision mobile networks data</title>
    <para>
      Into the utils/mccmnc_provisioner folder of main wakeup_platform project
      (<xref linkend="sourcecode" endterm="wu_platform_project" />)
    </para>
    <para>
      To launch it you need AWK and Redis CLI support.
    </para>
    <para>
      <programlisting>awk -f load_mcc_mnc_onredis.awk mcc_mnc_list.csv
      </programlisting>
    </para>
    <para>
      If you need a localhost complete environment (for testing purposes, not
      recomended in production), you can provision a test network with these
      simple commands:
    </para>
    <para>
      <programlisting><xi:include
        href="../../utils/provision_testnetwork.sh" parse="text" />
      </programlisting>
    </para>
    <para>
      Check <xref linkend="sourcecode" endterm="op_collection" /> and
      <xref linkend="sourcecode" endterm="net_collection" /> sections to better
      understand these scripts.
    </para>
  </section>

</chapter>